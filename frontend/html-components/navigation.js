(()=>{const t=function(t){let e,n,i,r=t.parentElement;function a(t){const n=t.currentTarget;e&&n!==e&&u(e),u(n)}function u(t){const n=document.getElementById(t.getAttribute("aria-controls"));"true"===t.getAttribute("aria-expanded")?(t.setAttribute("aria-expanded",!1),n.setAttribute("aria-hidden",!0),e=!1):(t.setAttribute("aria-expanded",!0),n.setAttribute("aria-hidden",!1),function(t){const e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=t.offsetParent,i=n.getBoundingClientRect().left+t.offsetWidth;i+32>e&&t.classList.add("sub-menu--right")}(n),e=t)}function d(t){27===t.keyCode&&(null!==t.target.closest('ul[aria-hidden="false"]')?(e.focus(),u(e)):"true"===t.target.getAttribute("aria-expanded")&&u(e))}function o(t){e&&!t.target.closest("#"+r.id)&&u(e)}this.init=()=>{t.classList.remove("no-js"),t.querySelectorAll("ul").forEach((e=>{const r=e.parentElement;if(void 0!==e){let u=function(t){const e=t.getElementsByTagName("a")[0],r=e.innerHTML,a=e.attributes,u=document.createElement("button");if(null!==e){for(u.innerHTML=r.trim(),n=0,i=a.length;n<i;n++){let t=a[n];"href"!==t.name&&u.setAttribute(t.name,t.value)}t.replaceChild(u,e)}return u}(r);!function(t,e){const n=t.getAttribute("id");let i;i=null===n?e.textContent.trim().replace(/\s+/g,"-").toLowerCase()+"-submenu":menuItemId+"-submenu",e.setAttribute("aria-controls",i),e.setAttribute("aria-expanded",!1),t.setAttribute("id",i),t.setAttribute("aria-hidden",!0)}(e,u),u.addEventListener("click",a),t.addEventListener("keyup",d)}})),document.addEventListener("click",o)}};document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".clicky-menu").forEach((e=>{new t(e).init()}))}))})();